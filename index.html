<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Nutrition Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f4f4f4;
        }

        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        h1, h2 {
            grid-column: 1 / -1;
            color: #2c3e50;
        }

        .toggle-buttons, #foodButtons, #selectedFoods {
            grid-column: 1 / -1;
        }

        .toggle-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .toggle-button {
            padding: 10px 15px;
            background-color: #f0f0f0;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .toggle-button.active {
            background-color: #3498db;
            color: white;
        }

        #foodButtons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .food-button {
            padding: 10px 15px;
            background-color: #f0f0f0;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .food-button.active {
            background-color: #2ecc71;
            color: white;
        }

        #selectedFoods {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .food-item {
            background-color: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .food-item label {
            display: block;
            margin-bottom: 5px;
        }

        .food-item input[type="range"] {
            width: 100%;
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        .progress-section {
            background-color: #ffffff;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .progress-circle {
            width: 100px;
            height: 100px;
            margin: 0 auto 10px;
            position: relative;
        }

        .progress-circle svg {
            width: 100%;
            height: 100%;
        }

        .progress-circle circle {
            fill: none;
            stroke-width: 8;
            stroke-linecap: round;
        }

        .progress-circle .bg {
            stroke: #f0f0f0;
        }

        .progress-circle .progress {
            stroke: #3498db;
            stroke-dasharray: 251.2;
            stroke-dashoffset: 251.2;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
            transition: stroke-dashoffset 0.3s ease;
        }

        .progress-circle .label {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 14px;
            font-weight: bold;
            color: #2c3e50;
        }

        .progress-circle .value {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px;
            color: #3498db;
        }

        h2 {
            font-size: 18px;
            margin-bottom: 10px;
            color: #2c3e50;
        }
    </style>
</head>
<body>
    <h1>Advanced Nutrition Dashboard</h1>
    <input type="text" id="foodSearch" placeholder="Search foods...">

    <div class="toggle-buttons">
        <button class="toggle-button active" data-category="all">All üçé</button>
        <button class="toggle-button" data-category="fruits">Fruits üçì</button>
        <button class="toggle-button" data-category="vegetables">Vegetables ü•¶</button>
        <button class="toggle-button" data-category="dairy">Dairy ü•õ</button>
        <button class="toggle-button" data-category="grains">Grains üåæ</button>
        <button class="toggle-button" data-category="protein">Protein ü•©</button>
        <button class="toggle-button" data-category="others">Others üçï</button>
    </div>
    <div id="kcalProgress" class="progress-circle" data-label="Calories" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>

    <div id="foodButtons"></div>
    <div id="selectedFoods"></div>

    <div class="dashboard">
        <div class="progress-section">
            <h2>Calories</h2>
            <div id="caloriesProgress" class="progress-circle" data-label="Calories"></div>
        </div>
        <div class="progress-section">
            <h2>Protein</h2>
            <div id="proteinProgress" class="progress-circle" data-label="Protein"></div>
        </div>
        <div class="progress-section">
            <h2>Carbs</h2>
            <div id="carbsProgress" class="progress-circle" data-label="Carbs"></div>
        </div>
        <div class="progress-section">
            <h2>Fat</h2>
            <div id="fatProgress" class="progress-circle" data-label="Fat"></div>
        </div>
        <div class="progress-section">
            <h2>Fiber</h2>
            <div id="fiberProgress" class="progress-circle" data-label="Fiber"></div>
        </div>
        <div class="progress-section">
            <h2>Omega-3</h2>
            <div id="omega3Progress" class="progress-circle" data-label="Omega-3"></div>
        </div>
        <div class="progress-section">
            <h2>Omega-6</h2>
            <div id="omega6Progress" class="progress-circle" data-label="Omega-6"></div>
        </div>
        <div class="progress-section">
            <h2>Calcium</h2>
            <div id="calciumProgress" class="progress-circle" data-label="Calcium"></div>
        </div>
        <div class="progress-section">
            <h2>Magnesium</h2>
            <div id="magnesiumProgress" class="progress-circle" data-label="Magnesium"></div>
        </div>
        <div class="progress-section">
            <h2>Potassium</h2>
            <div id="potassiumProgress" class="progress-circle" data-label="Potassium"></div>
        </div>
        <div class="progress-section">
            <h2>Iron</h2>
            <div id="ironProgress" class="progress-circle" data-label="Iron"></div>
        </div>
        <div class="progress-section">
            <h2>Zinc</h2>
            <div id="zincProgress" class="progress-circle" data-label="Zinc"></div>
        </div>
        <div class="progress-section">
            <h2>Selenium</h2>
            <div id="seleniumProgress" class="progress-circle" data-label="Selenium"></div>
        </div>
        <div class="progress-section">
            <h2>Sodium</h2>
            <div id="sodiumProgress" class="progress-circle" data-label="Sodium"></div>
        </div>
        <div class="progress-section">
            <h2>Vitamin A</h2>
            <div id="vitaminAProgress" class="progress-circle" data-label="Vit. A"></div>
        </div>
        <div class="progress-section">
            <h2>Vitamin B12</h2>
            <div id="vitaminB12Progress" class="progress-circle" data-label="Vit. B12"></div>
        </div>
        <div class="progress-section">
            <h2>Vitamin C</h2>
            <div id="vitaminCProgress" class="progress-circle" data-label="Vit. C"></div>
        </div>
        <div class="progress-section">
            <h2>Vitamin D</h2>
            <div id="vitaminDProgress" class="progress-circle" data-label="Vit. D"></div>
        </div>
        <div class="progress-section">
            <h2>Vitamin E</h2>
            <div id="vitaminEProgress" class="progress-circle" data-label="Vit. E"></div>
        </div>
        <div class="progress-section">
            <h2>Vitamin K</h2>
            <div id="vitaminKProgress" class="progress-circle" data-label="Vit. K"></div>
        </div>
    </div>

    <script>
    const foodData = {
        "Banana (1 medium)": { emoji: "üçå", grams: 120, calories: 105, totalFat: 0.4, saturatedFat: 0.1, monounsaturatedFat: 0.1, polyunsaturatedFat: 0.1, omega3: 0, omega6: 30, carbs: 27, protein: 1.3, fiber: 3.1, vitaminC: 10, potassium: 422, category: "fruits" },
        "Apple (1 medium)": { emoji: "üçé", grams: 182, calories: 95, totalFat: 0.3, saturatedFat: 0, monounsaturatedFat: 0.1, polyunsaturatedFat: 0.1, omega3: 3, omega6: 40, carbs: 25, protein: 0.5, fiber: 4.4, vitaminC: 8, potassium: 195, category: "fruits" },
        "Greek Yogurt (1 cup)": { emoji: "ü•õ", grams: 170, calories: 100, totalFat: 0, saturatedFat: 0, monounsaturatedFat: 0, polyunsaturatedFat: 0, omega3: 0, omega6: 0, carbs: 6, protein: 17, fiber: 0, calcium: 10, potassium: 0, category: "dairy" },
        "Cappuccino (1 cup)": { emoji: "‚òï", grams: 240, calories: 110, totalFat: 5, saturatedFat: 3, monounsaturatedFat: 1.5, polyunsaturatedFat: 0.5, omega3: 0, omega6: 0, carbs: 12, protein: 8, fiber: 1, calcium: 30, potassium: 0, category: "dairy" },
        "Egg (1 large)": { emoji: "ü•ö", grams: 50, calories: 78, totalFat: 5.3, saturatedFat: 1.6, monounsaturatedFat: 2.0, polyunsaturatedFat: 0.7, omega3: 37, omega6: 570, carbs: 0.6, protein: 6.3, fiber: 0, vitaminD: 1, potassium: 69, category: "protein" },
        "Bread (1 slice)": { emoji: "üçû", grams: 30, calories: 80, totalFat: 1, saturatedFat: 0.2, monounsaturatedFat: 0.3, polyunsaturatedFat: 0.3, omega3: 0, omega6: 0, carbs: 15, protein: 3, fiber: 1, iron: 6, potassium: 0, category: "grains" },
        "Honey (1 tablespoon)": { emoji: "üçØ", grams: 21, calories: 64, totalFat: 0, saturatedFat: 0, monounsaturatedFat: 0, polyunsaturatedFat: 0, omega3: 0, omega6: 0, carbs: 17, protein: 0.1, fiber: 0, calcium: 1, potassium: 11, category: "others" },
        "Sweet Potato (1 medium)": { emoji: "üç†", grams: 114, calories: 103, totalFat: 0.1, saturatedFat: 0, monounsaturatedFat: 0, polyunsaturatedFat: 0.1, omega3: 0, omega6: 30, carbs: 24, protein: 2, fiber: 3.8, vitaminA: 100, potassium: 542, category: "vegetables" },
        "Olive Oil (1 tablespoon)": { emoji: "ü´í", grams: 14, calories: 119, totalFat: 14, saturatedFat: 2, monounsaturatedFat: 10, polyunsaturatedFat: 1.5, omega3: 0, omega6: 1000, carbs: 0, protein: 0, fiber: 0, vitaminE: 15, potassium: 0, category: "others" },
        "Chicken Breast (3 oz)": { emoji: "üçó", grams: 85, calories: 140, totalFat: 3, saturatedFat: 1, monounsaturatedFat: 1, polyunsaturatedFat: 0.5, omega3: 30, omega6: 1500, carbs: 0, protein: 26, fiber: 0, vitaminB6: 20, potassium: 220, category: "protein" },
        "Salmon (3 oz)": { emoji: "üêü", grams: 85, calories: 175, totalFat: 11, saturatedFat: 2.5, monounsaturatedFat: 4, polyunsaturatedFat: 3.5, omega3: 1700, omega6: 300, carbs: 0, protein: 20, fiber: 0, vitaminB12: 80, potassium: 360, category: "protein" },
        "Avocado (1/2 medium)": { emoji: "ü•ë", grams: 100, calories: 160, totalFat: 15, saturatedFat: 2, monounsaturatedFat: 10, polyunsaturatedFat: 2.5, omega3: 160, omega6: 1960, carbs: 9, protein: 2, fiber: 7, vitaminK: 26, potassium: 485, category: "fruits" },
        "Spinach (1 cup cooked)": { emoji: "ü•¨", grams: 180, calories: 41, totalFat: 0.7, saturatedFat: 0.1, monounsaturatedFat: 0.1, polyunsaturatedFat: 0.3, omega3: 370, omega6: 150, carbs: 7, protein: 5, fiber: 4, vitaminA: 200, potassium: 839, category: "vegetables" },
        "Almonds (1 oz)": { emoji: "ü•ú", grams: 28, calories: 164, totalFat: 14, saturatedFat: 1, monounsaturatedFat: 9, polyunsaturatedFat: 3.5, omega3: 0, omega6: 3680, carbs: 6, protein: 6, fiber: 3.5, vitaminE: 35, magnesium: 20, category: "protein" },
        "Quinoa (1 cup cooked)": { emoji: "üåæ", grams: 185, calories: 222, totalFat: 3.5, saturatedFat: 0.4, monounsaturatedFat: 0.6, polyunsaturatedFat: 1.9, omega3: 47, omega6: 340, carbs: 39, protein: 8, fiber: 5, iron: 15, magnesium: 30, category: "grains" },
        "Broccoli (1 cup chopped)": { emoji: "ü•¶", grams: 91, calories: 31, totalFat: 0.4, saturatedFat: 0.1, monounsaturatedFat: 0, polyunsaturatedFat: 0.2, omega3: 33, omega6: 70, carbs: 6, protein: 3, fiber: 2, vitaminC: 135, potassium: 316, category: "vegetables" },
        "Strawberries (1 cup sliced)": { emoji: "üçì", grams: 150, calories: 46, totalFat: 0.4, saturatedFat: 0, monounsaturatedFat: 0, polyunsaturatedFat: 0.2, omega3: 24, omega6: 40, carbs: 11, protein: 1, fiber: 3, vitaminC: 98, potassium: 220, category: "fruits" },
        "Oatmeal (1 cup cooked)": { emoji: "ü•£", grams: 234, calories: 147, totalFat: 2.5, saturatedFat: 0.5, monounsaturatedFat: 0.7, polyunsaturatedFat: 0.7, omega3: 55, omega6: 600, carbs: 27, protein: 5, fiber: 4, iron: 10, potassium: 0, category: "grains" },
        "Tofu (3 oz)": { emoji: "üßä", grams: 85, calories: 70, totalFat: 4, saturatedFat: 0.5, monounsaturatedFat: 1.5, polyunsaturatedFat: 1.5, omega3: 80, omega6: 450, carbs: 2, protein: 8, fiber: 1, calcium: 10, potassium: 120, category: "protein" },
        "Whole Milk (1 cup)": { emoji: "ü•õ", grams: 240, calories: 149, totalFat: 8, saturatedFat: 5, monounsaturatedFat: 2, polyunsaturatedFat: 0.5, omega3: 30, omega6: 200, carbs: 12, protein: 8, fiber: 0, vitaminD: 15, calcium: 30, category: "dairy" },
        "Brown Rice (1 cup cooked)": { emoji: "üçö", grams: 195, calories: 216, totalFat: 1.8, saturatedFat: 0.4, monounsaturatedFat: 0.5, polyunsaturatedFat: 0.7, omega3: 0, omega6: 50, carbs: 45, protein: 5, fiber: 3, magnesium: 11, potassium: 84, category: "grains" },
        "Lentils (1 cup cooked)": { emoji: "üç≤", grams: 198, calories: 230, totalFat: 0.8, saturatedFat: 0.1, monounsaturatedFat: 0.2, polyunsaturatedFat: 0.4, omega3: 0, omega6: 80, carbs: 40, protein: 18, fiber: 16, iron: 37, potassium: 731, category: "protein" },
        "Orange (1 medium)": { emoji: "üçä", grams: 131, calories: 62, totalFat: 0.2, saturatedFat: 0, monounsaturatedFat: 0, polyunsaturatedFat: 0.1, omega3: 0, omega6: 20, carbs: 15, protein: 1, fiber: 3, vitaminC: 100, potassium: 237, category: "fruits" },
        "Carrot (1 medium)": { emoji: "ü•ï", grams: 61, calories: 25, totalFat: 0.2, saturatedFat: 0, monounsaturatedFat: 0, polyunsaturatedFat: 0.1, omega3: 0, omega6: 40, carbs: 6, protein: 1, fiber: 2, vitaminA: 200, potassium: 230, category: "vegetables" },
        "Peanut Butter (2 tablespoons)": { emoji: "ü•ú", grams: 32, calories: 188, totalFat: 16, saturatedFat: 3, monounsaturatedFat: 8, polyunsaturatedFat: 4, omega3: 0, omega6: 3400, carbs: 7, protein: 8, fiber: 2, magnesium: 10, potassium: 210, category: "protein" },
        "Walnuts (1 oz)": { emoji: "üå∞", grams: 28, calories: 185, totalFat: 18, saturatedFat: 1.5, monounsaturatedFat: 2.5, polyunsaturatedFat: 13, omega3: 2500, omega6: 3700, carbs: 4, protein: 4, fiber: 2, magnesium: 10, potassium: 125, category: "protein" },
        "Dark Chocolate (1 oz)": { emoji: "üç´", grams: 28, calories: 155, totalFat: 9, saturatedFat: 5, monounsaturatedFat: 3, polyunsaturatedFat: 0.5, omega3: 0, omega6: 0, carbs: 13, protein: 2, fiber: 3, iron: 12, magnesium: 25, category: "others" },
        "Kidney Beans (1 cup cooked)": { emoji: "ü´ò", grams: 177, calories: 215, totalFat: 0.5, saturatedFat: 0, monounsaturatedFat: 0.1, polyunsaturatedFat: 0.2, omega3: 0, omega6: 110, carbs: 39, protein: 13, fiber: 11, iron: 20, potassium: 600, category: "protein" },
        "Tuna (3 oz canned in water)": { emoji: "üêü", grams: 85, calories: 94, totalFat: 0.5, saturatedFat: 0.1, monounsaturatedFat: 0.1, polyunsaturatedFat: 0.2, omega3: 250, omega6: 30, carbs: 0, protein: 20, fiber: 0, vitaminB12: 40, potassium: 0, category: "protein" },
        "Chicken Thigh (3 oz)": { emoji: "üçó", grams: 85, calories: 209, totalFat: 13, saturatedFat: 4, monounsaturatedFat: 6, polyunsaturatedFat: 2, omega3: 40, omega6: 2000, carbs: 0, protein: 26, fiber: 0, iron: 5, potassium: 210, category: "protein" },
        "Beef (Ground, 80% lean, 3 oz)": { emoji: "ü•©", grams: 85, calories: 215, totalFat: 14, saturatedFat: 6, monounsaturatedFat: 6, polyunsaturatedFat: 1, omega3: 40, omega6: 300, carbs: 0, protein: 26, fiber: 0, iron: 15, zinc: 45, category: "protein" },
        "Pork Chop (3 oz)": { emoji: "üçñ", grams: 85, calories: 179, totalFat: 8, saturatedFat: 3, monounsaturatedFat: 3.5, polyunsaturatedFat: 1, omega3: 30, omega6: 1000, carbs: 0, protein: 26, fiber: 0, thiamin: 40, potassium: 370, category: "protein" },
        "Shrimp (3 oz)": { emoji: "ü¶ê", grams: 85, calories: 84, totalFat: 0.5, saturatedFat: 0.1, monounsaturatedFat: 0.2, polyunsaturatedFat: 0.1, omega3: 100, omega6: 100, carbs: 0, protein: 20, fiber: 0, vitaminB12: 20, selenium: 40, category: "protein" },
        "Cod (3 oz)": { emoji: "üêü", grams: 85, calories: 82, totalFat: 0.5, saturatedFat: 0.1, monounsaturatedFat: 0.1, polyunsaturatedFat: 0.2, omega3: 200, omega6: 30, carbs: 0, protein: 19, fiber: 0, vitaminB12: 15, selenium: 30, category: "protein" },
        "Pizza (1 slice, cheese)": { emoji: "üçï", grams: 107, calories: 285, totalFat: 10, saturatedFat: 4.5, monounsaturatedFat: 3, polyunsaturatedFat: 1.5, omega3: 0, omega6: 0, carbs: 36, protein: 12, fiber: 3, calcium: 18, sodium: 640, category: "others" },
        "Pasta (1 cup cooked)": { emoji: "üçù", grams: 140, calories: 221, totalFat: 1.3, saturatedFat: 0.3, monounsaturatedFat: 0.4, polyunsaturatedFat: 0.3, omega3: 0, omega6: 40, carbs: 43, protein: 8, fiber: 2.5, iron: 6, potassium: 0, category: "grains" },
        "French Fries (medium)": { emoji: "üçü", grams: 117, calories: 312, totalFat: 15, saturatedFat: 2, monounsaturatedFat: 7, polyunsaturatedFat: 4.5, omega3: 0, omega6: 0, carbs: 41, protein: 4, fiber: 4, vitaminC: 10, potassium: 480, category: "others" },
        "Hamburger (1 patty)": { emoji: "üçî", grams: 113, calories: 303, totalFat: 17, saturatedFat: 6, monounsaturatedFat: 7, polyunsaturatedFat: 2.5, omega3: 30, omega6: 1200, carbs: 0, protein: 25, fiber: 0, iron: 20, zinc: 50, category: "protein" },
        "Ice Cream (1/2 cup)": { emoji: "üç¶", grams: 68, calories: 137, totalFat: 7, saturatedFat: 4.5, monounsaturatedFat: 2, polyunsaturatedFat: 0.3, omega3: 0, omega6: 0, carbs: 16, protein: 3, fiber: 0, calcium: 10, potassium: 0, category: "dairy" },
        "Potato Chips (1 oz)": { emoji: "ü•î", grams: 28, calories: 152, totalFat: 10, saturatedFat: 1.5, monounsaturatedFat: 5, polyunsaturatedFat: 3, omega3: 0, omega6: 0, carbs: 15, protein: 2, fiber: 1, vitaminC: 10, sodium: 170, category: "others" },
        "Popcorn (air-popped, 3 cups)": { emoji: "üçø", grams: 24, calories: 93, totalFat: 1, saturatedFat: 0.2, monounsaturatedFat: 0.3, polyunsaturatedFat: 0.3, omega3: 0, omega6: 300, carbs: 19, protein: 3, fiber: 4, iron: 6, magnesium: 10, category: "grains" },
        "Banana Bread (1 slice)": { emoji: "üçå", grams: 70, calories: 250, totalFat: 10, saturatedFat: 3, monounsaturatedFat: 4, polyunsaturatedFat: 2, omega3: 0, omega6: 0, carbs: 35, protein: 3, fiber: 1, calcium: 5, potassium: 150, category: "grains" },
        "Granola Bar (1 bar)": { emoji: "üç´", grams: 35, calories: 150, totalFat: 6, saturatedFat: 1, monounsaturatedFat: 2.5, polyunsaturatedFat: 2, omega3: 0, omega6: 0, carbs: 20, protein: 3, fiber: 2, iron: 4, potassium: 0, category: "grains" },
        "Bagel (plain, 1)": { emoji: "ü•Ø", grams: 94, calories: 270, totalFat: 1, saturatedFat: 0.3, monounsaturatedFat: 0.3, polyunsaturatedFat: 0.2, omega3: 0, omega6: 0, carbs: 55, protein: 11, fiber: 3, calcium: 10, potassium: 0, category: "grains" },
        "Muffin (blueberry, 1)": { emoji: "üßÅ", grams: 124, calories: 420, totalFat: 16, saturatedFat: 5, monounsaturatedFat: 6, polyunsaturatedFat: 3, omega3: 0, omega6: 0, carbs: 61, protein: 5, fiber: 2, calcium: 10, potassium: 190, category: "grains" }
    };

    const dailyValues = {
          calories: 2000,
          protein: 50,
          carbs: 300,
          fat: 65,
          fiber: 25,
          omega3: 1.6, // In grams
          omega6: 17, // In grams
          calcium: 1000,
          magnesium: 420,
          potassium: 4700,
          iron: 18,
          zinc: 11,
          selenium: 55,
          sodium: 2300,
          vitaminA: 900,
          vitaminB12: 2.4,
          vitaminC: 90,
          vitaminD: 20,
          vitaminE: 15,
          vitaminK: 120
      };

      const buttonContainer = document.getElementById('foodButtons');
const selectedFoodsContainer = document.getElementById('selectedFoods');
const toggleButtons = document.querySelectorAll('.toggle-button');

let selectedFoods = new Set();

// Create food buttons
for (let food in foodData) {
    let button = document.createElement('button');
    button.textContent = `${foodData[food].emoji} ${food}`;
    button.className = 'food-button';
    button.dataset.category = foodData[food].category;
    button.onclick = () => toggleFood(food, button);
    buttonContainer.appendChild(button);
}

toggleButtons.forEach(button => {
    button.addEventListener('click', () => {
        const category = button.dataset.category;
        toggleButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');

        const foodButtons = document.querySelectorAll('.food-button');
        foodButtons.forEach(foodButton => {
            const foodName = foodButton.textContent.split(' ').slice(1).join(' ');
            if (category === 'all' || foodData[foodName].category === category) {
                foodButton.style.display = 'inline-block';
            } else {
                foodButton.style.display = 'none';
            }
        });
        updateNutritionTable();
    });
});

function toggleFood(food, button) {
    if (selectedFoods.has(food)) {
        selectedFoods.delete(food);
        button.classList.remove('active');
        removeSlider(food);
    } else {
        selectedFoods.add(food);
        button.classList.add('active');
        addSlider(food);
    }
    updateNutritionTable();
}

function addSlider(food) {
    const div = document.createElement('div');
    div.className = 'food-item';
    div.innerHTML = `
        <label>${foodData[food].emoji} ${food}</label>
        <input type="range" min="0" max="500" value="${foodData[food].grams}" id="${food}-slider">
        <span id="${food}-value">${foodData[food].grams}g</span>
    `;
    selectedFoodsContainer.appendChild(div);

    const slider = document.getElementById(`${food}-slider`);
    const output = document.getElementById(`${food}-value`);
    slider.oninput = function () {
        output.textContent = this.value + 'g';
        updateNutritionTable();
    }
}

function removeSlider(food) {
    const slider = document.getElementById(`${food}-slider`);
    if (slider) {
        slider.parentElement.remove();
    }
}

function updateNutritionTable() {
    if (selectedFoods.size === 0) {
        resetProgressBars();
        return;
    }

    let totals = {
        calories: 0, totalFat: 0, saturatedFat: 0,
        carbs: 0, protein: 0, fiber: 0, omega3: 0, omega6: 0,
        vitaminA: 0, vitaminB12: 0, vitaminC: 0, vitaminD: 0, vitaminE: 0, vitaminK: 0,
        calcium: 0, magnesium: 0, potassium: 0, iron: 0, zinc: 0, selenium: 0, sodium: 0
    };

    selectedFoods.forEach(food => {
        const sliderValue = document.getElementById(`${food}-slider`).value;
        const ratio = sliderValue / foodData[food].grams;
        for (let nutrient in totals) {
            if (foodData[food][nutrient]) {
                totals[nutrient] += foodData[food][nutrient] * ratio;
            }
        }
    });

    updateProgressBars(totals);
}

function updateProgressBars(totals) {
    const progressCircleIds = {
        kcalProgress: ['calories'],
        macroProgress: ['totalFat', 'carbs', 'protein'],
        omegasProgress: ['omega3', 'omega6'],
        fiberProgress: ['fiber'],
        micronutrientsProgress: ['calcium', 'magnesium', 'potassium', 'iron', 'zinc', 'selenium', 'sodium'],
        vitaminsProgress: ['vitaminA', 'vitaminB12', 'vitaminC', 'vitaminD', 'vitaminE', 'vitaminK']
    };

    for (let id in progressCircleIds) {
        const nutrients = progressCircleIds[id];
        let totalProgress = 0;
        let count = 0;
        nutrients.forEach(nutrient => {
            if (dailyValues[nutrient] && totals[nutrient] !== undefined) {
                totalProgress += Math.min((totals[nutrient] / dailyValues[nutrient]) * 100, 100);
                count++;
            }
        });
        const averageProgress = count > 0 ? totalProgress / count : 0;
        const progressCircle = document.getElementById(id);
        progressCircle.style.setProperty('--progress', averageProgress);
        progressCircle.setAttribute('data-value', averageProgress.toFixed(0));
    }
}

function resetProgressBars() {
    const progressCircles = document.querySelectorAll('.progress-circle');
    progressCircles.forEach(circle => {
        circle.style.setProperty('--progress', 0);
        circle.setAttribute('data-value', '0');
    });
}

// Initialize the dashboard
updateNutritionTable();

        // Add this JavaScript
const searchInput = document.getElementById('foodSearch');

searchInput.addEventListener('input', function() {
    const searchTerm = this.value.toLowerCase();
    const foodButtons = document.querySelectorAll('.food-button');
    
    foodButtons.forEach(button => {
        const foodName = button.textContent.toLowerCase();
        if (foodName.includes(searchTerm)) {
            button.style.display = 'inline-block';
        } else {
            button.style.display = 'none';
        }
    });
});

</script>



</body>

</html>
