<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Nutrition Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .dashboard {
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 20px;
        }
        .food-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        .food-button {
            background-color: #f0f0f0;
            border: none;
            border-radius: 20px;
            padding: 8px 16px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-family: 'Inter', sans-serif;
        }
        .food-button.active {
            background-color: #3498db;
            color: white;
        }
        .selected-foods {
            margin-bottom: 20px;
        }
        .food-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .food-item label {
            margin-right: 10px;
            min-width: 150px;
        }
        .food-item input {
            width: 200px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #f2f2f2;
            font-weight: 600;
        }
        tr:hover {
            background-color: #f5f5f5;
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <h1>Advanced Nutrition Dashboard</h1>
        <div id="foodButtons" class="food-buttons"></div>
        <div id="selectedFoods" class="selected-foods"></div>
        <table id="nutritionTable">
            <thead>
                <tr>
                    <th>Nutrient</th>
                    <th>Amount</th>
                    <th>% Daily Value</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>

    <script>
        const foodData = {
            "Banana": { emoji: "🍌", grams: 100, calories: 89, totalFat: 0.3, carbs: 23, protein: 1.1, fiber: 2.6 },
            "Apple": { emoji: "🍎", grams: 100, calories: 52, totalFat: 0.2, carbs: 14, protein: 0.3, fiber: 2.4 },
            "Greek Yogurt": { emoji: "🥛", grams: 100, calories: 59, totalFat: 0.4, carbs: 3.6, protein: 10, fiber: 0 },
            "Cappuccino": { emoji: "☕", grams: 100, calories: 74, totalFat: 4, carbs: 6, protein: 4, fiber: 0 },
            "Egg": { emoji: "🥚", grams: 50, calories: 78, totalFat: 5.3, carbs: 0.6, protein: 6.3, fiber: 0 },
            "Bread": { emoji: "🍞", grams: 100, calories: 247, totalFat: 3.5, carbs: 41, protein: 13, fiber: 6.8 },
            "Honey": { emoji: "🍯", grams: 100, calories: 304, totalFat: 0, carbs: 82, protein: 0.3, fiber: 0.2 },
            "Sweet Potato": { emoji: "🍠", grams: 100, calories: 90, totalFat: 0.1, carbs: 21, protein: 2, fiber: 3.3 },
            "Olive Oil": { emoji: "🫒", grams: 100, calories: 884, totalFat: 100, carbs: 0, protein: 0, fiber: 0 },
            "Chicken Breast": { emoji: "🍗", grams: 100, calories: 165, totalFat: 3.6, carbs: 0, protein: 31, fiber: 0 },
            "Salmon": { emoji: "🐟", grams: 100, calories: 208, totalFat: 13, carbs: 0, protein: 22, fiber: 0 },
            "Avocado": { emoji: "🥑", grams: 100, calories: 160, totalFat: 15, carbs: 9, protein: 2, fiber: 7 },
            "Spinach": { emoji: "🥬", grams: 100, calories: 23, totalFat: 0.4, carbs: 3.6, protein: 2.9, fiber: 2.2 },
            "Almonds": { emoji: "🥜", grams: 100, calories: 579, totalFat: 49.9, carbs: 21.6, protein: 21.2, fiber: 12.5 },
            "Quinoa": { emoji: "🌾", grams: 100, calories: 120, totalFat: 1.9, carbs: 21.3, protein: 4.4, fiber: 2.8 },
            "Broccoli": { emoji: "🥦", grams: 100, calories: 34, totalFat: 0.4, carbs: 6.6, protein: 2.8, fiber: 2.6 },
            "Strawberries": { emoji: "🍓", grams: 100, calories: 32, totalFat: 0.3, carbs: 7.7, protein: 0.7, fiber: 2 },
            "Oatmeal": { emoji: "🥣", grams: 100, calories: 389, totalFat: 6.9, carbs: 66.3, protein: 16.9, fiber: 10.6 },
            "Tofu": { emoji: "🧊", grams: 100, calories: 144, totalFat: 8.7, carbs: 2.8, protein: 15.9, fiber: 2.3 }
        };

        const dailyValues = {
            calories: 2000,
            totalFat: 65,
            carbs: 300,
            protein: 50,
            fiber: 25
        };

        const buttonContainer = document.getElementById('foodButtons');
        const selectedFoodsContainer = document.getElementById('selectedFoods');
        const table = document.getElementById('nutritionTable').getElementsByTagName('tbody')[0];

        let selectedFoods = new Set();

        // Create food buttons
        for (let food in foodData) {
            let button = document.createElement('button');
            button.textContent = `${foodData[food].emoji} ${food}`;
            button.className = 'food-button';
            button.onclick = () => toggleFood(food, button);
            buttonContainer.appendChild(button);
        }

        function toggleFood(food, button) {
            if (selectedFoods.has(food)) {
                selectedFoods.delete(food);
                button.classList.remove('active');
                removeSlider(food);
            } else {
                selectedFoods.add(food);
                button.classList.add('active');
                addSlider(food);
            }
            updateNutritionTable();
        }

        function addSlider(food) {
            const div = document.createElement('div');
            div.className = 'food-item';
            div.innerHTML = `
                <label>${foodData[food].emoji} ${food} (g):</label>
                <input type="range" min="0" max="500" value="${foodData[food].grams}" id="${food}-slider">
                <span id="${food}-value">${foodData[food].grams}g</span>
            `;
            selectedFoodsContainer.appendChild(div);

            const slider = document.getElementById(`${food}-slider`);
            const output = document.getElementById(`${food}-value`);
            slider.oninput = function() {
                output.textContent = this.value + 'g';
                updateNutritionTable();
            }
        }

        function removeSlider(food) {
            const slider = document.getElementById(`${food}-slider`);
            if (slider) {
                slider.parentElement.remove();
            }
        }

        function updateNutritionTable() {
            table.innerHTML = ''; // Clear existing rows
            if (selectedFoods.size === 0) return;

            let totals = { calories: 0, totalFat: 0, carbs: 0, protein: 0, fiber: 0 };

            selectedFoods.forEach(food => {
                const sliderValue = document.getElementById(`${food}-slider`).value;
                const ratio = sliderValue / foodData[food].grams;
                for (let nutrient in totals) {
                    totals[nutrient] += foodData[food][nutrient] * ratio;
                }
            });

            for (let nutrient in totals) {
                let row = table.insertRow();
                let cell1 = row.insertCell(0);
                let cell2 = row.insertCell(1);
                let cell3 = row.insertCell(2);

                cell1.textContent = nutrient.charAt(0).toUpperCase() + nutrient.slice(1);
                cell2.textContent = totals[nutrient].toFixed(1) + (nutrient === 'calories' ? ' kcal' : ' g');
                
                if (dailyValues[nutrient]) {
                    const percentage = ((totals[nutrient] / dailyValues[nutrient]) * 100).toFixed(1);
                    cell3.textContent = percentage + '%';
                } else {
                    cell3.textContent = 'N/A';
                }
            }
        }
    </script>
</body>
</html>
